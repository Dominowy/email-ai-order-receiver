@page "/orders"
@using EAOR.Application.Contracts.Services
@using EAOR.Application.Models
@using Radzen

<h3>Orders</h3>

<RadzenDataGrid Data="@Orders" TItem="OrderDto"
                AllowSorting="true"
                AllowPaging="true"
                PageSize="10"
                ShowPagingSummary="true"
                Responsive="true">
    <Columns>
        <RadzenDataGridColumn TItem="OrderDto" Property="ProductName" Title="Product Name" />
        <RadzenDataGridColumn TItem="OrderDto" Property="Quantity" Title="Quantity" />
        <RadzenDataGridColumn TItem="OrderDto" Property="Price" Title="Price" FormatString="{0:C}" />
    </Columns>
</RadzenDataGrid>

@code {
    private List<OrderDto> Orders;

    [Inject]
    private IOrderService OrderService { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Orders = await LoadOrdersAsync();
    }

    private Task<List<OrderDto>> LoadOrdersAsync()
    {
        return Task.FromResult(new List<OrderDto>
        {
            new OrderDto { ProductName = "Laptop", Quantity = 2, Price = 3500 },
            new OrderDto { ProductName = "Mouse", Quantity = 5, Price = 150 },
            new OrderDto { ProductName = "Keyboard", Quantity = 3, Price = 250 }
        });
    }
}
