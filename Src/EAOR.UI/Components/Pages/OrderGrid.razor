@page "/orders"
@using EAOR.Application.Contracts.Services
@using EAOR.Application.Models
@using Radzen

<h3>Orders</h3>

<RadzenDataGrid Data="@Orders" TItem="OrderViewModel"
                AllowSorting="true"
                AllowPaging="true"
                PageSize="10"
                ShowPagingSummary="true"
                Responsive="true">
    <Columns>
        <RadzenDataGridColumn TItem="OrderViewModel" Property="ProductName" Title="Product Name" />
        <RadzenDataGridColumn TItem="OrderViewModel" Property="Quantity" Title="Quantity" />
        <RadzenDataGridColumn TItem="OrderViewModel" Property="Price" Title="Price" FormatString="{0:C}" />
    </Columns>
</RadzenDataGrid>

@code {
    private List<OrderViewModel> Orders;

    [Inject]
    private IOrderService OrderService { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Orders = await LoadOrdersAsync();
    }

    private Task<List<OrderViewModel>> LoadOrdersAsync()
    {
        return Task.FromResult(new List<OrderViewModel>
        {
            new OrderViewModel { ProductName = "Laptop", Quantity = 2, Price = 3500 },
            new OrderViewModel { ProductName = "Mouse", Quantity = 5, Price = 150 },
            new OrderViewModel { ProductName = "Keyboard", Quantity = 3, Price = 250 }
        });
    }
}
